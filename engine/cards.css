/* Wrapper - Contains the glow effect and card */
.o-glow-wrapper {
    position: relative;
    padding: 0.8px;
    isolation: isolate;
    width: 100%;
    height: 100%;
}

/* Glow Container - Manages the glow effect positioning and animation */
.o-glow-container {
    pointer-events: none;
    position: absolute;
    inset: 0;
    border-radius: inherit;
    opacity: 1;
    transition:
        opacity 300ms ease,
        --glow-start 0.15s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Glow Effect - Creates the animated conic gradient border */
.o-glow-effect {
    border-radius: inherit;
    position: relative;
    width: 100%;
    height: 100%;
}

.o-glow-effect::after {
    content: "";
    border-radius: inherit;
    position: absolute;
    inset: calc(-1 * var(--glow-border-width, 1px));
    border: var(--glow-border-width, 1px) solid transparent;

    /* Gradient definition */
    background: var(--glow-conic-gradient);
    background-attachment: fixed;

    /* Opacity controlled by --glow-active variable */
    opacity: var(--glow-active, 0);
    transition: opacity 300ms ease;

    /* Mask creates the rotating spotlight effect */
    -webkit-mask-clip: padding-box, border-box;
    -webkit-mask-composite: xor;
    mask-clip: padding-box, border-box;
    mask-composite: exclude;

    /* Conic gradient mask that rotates based on --glow-start */
    -webkit-mask-image:
        linear-gradient(transparent, transparent),
        conic-gradient(
            from calc((var(--glow-start, 0) - var(--glow-spread, 40)) * 1deg),
            transparent 0deg,
            white,
            transparent calc(var(--glow-spread, 40) * 2deg)
        );
    mask-image:
        linear-gradient(transparent, transparent),
        conic-gradient(
            from calc((var(--glow-start, 0) - var(--glow-spread, 40)) * 1deg),
            transparent 0deg,
            white,
            transparent calc(var(--glow-spread, 40) * 2deg)
        );
}

/* Optional blur effect */
.o-glow-container.has-blur {
    filter: blur(var(--glow-blur, 0px));
}

/* Gradient configurations */
:root {
    --glow-conic-white: rgba(255, 255, 255, 0.6);
    --glow-conic-green: conic-gradient(
        from 180deg at 50% 50%,
        #4ab765 0deg,
        #5ecab6 46.00778102874756deg,
        #4ab765 89.62071418762207deg,
        #5ecab6 131.52294516563416deg,
        #4ab765 178.52785348892212deg,
        #5ecab6 227.6949119567871deg,
        #4ab765 270.59914112091064deg,
        #5ecab6 312.77668476104736deg
    );
    --glow-conic-blue: conic-gradient(
        from 180deg at 50% 50%,
        #3fb3fc 0deg,
        #acf 44.27463412284851deg,
        #3fb3fc 90deg,
        #acf 132.00513124465942deg,
        #3fb3fc 180deg,
        #acf 223.81375551223755deg,
        #3fb3fc 270deg,
        #acf 313.8260293006897deg
    );
    --glow-conic-purple: conic-gradient(
        from 180deg at 50% 50%,
        #f28cff 0deg,
        #a194ff 44.27463412284851deg,
        #f28cff 90deg,
        #a194ff 132.00513124465942deg,
        #f28cff 180deg,
        #a194ff 223.81375551223755deg,
        #f28cff 270deg,
        #a194ff 313.8260293006897deg
    );
    --glow-conic-yellow: conic-gradient(
        from 180deg at 50% 50%,
        #ffc765 0deg,
        #ffa069 44.27463412284851deg,
        #ffc765 90deg,
        #ffa069 132.00513124465942deg,
        #ffc765 180deg,
        #ffa069 223.81375551223755deg,
        #ffc765 270deg,
        #ffa069 313.8260293006897deg
    );
    --glow-linear-gradient: linear-gradient(
        90deg,
        rgba(255, 255, 255, 0.6) 0%,
        rgba(255, 255, 255, 0.8) 50%,
        rgba(255, 255, 255, 0.6) 100%
    );
    --glow-linear-green: linear-gradient(
        270deg,
        rgba(136, 255, 166, 0) 0%,
        rgba(136, 255, 166, 0.4) 30%,
        #81fdea 50%,
        rgba(136, 255, 166, 0.4) 70%,
        rgba(136, 255, 166, 0) 100%
    );
    --glow-linear-blue: linear-gradient(
        270deg,
        rgba(170, 204, 255, 0) 0%,
        rgba(170, 204, 255, 0.4) 30%,
        #3fb3fc 50%,
        rgba(170, 204, 255, 0.4) 70%,
        rgba(170, 204, 255, 0) 100%
    );
    --glow-linear-purple: linear-gradient(
        270deg,
        rgba(161, 148, 255, 0) 0%,
        rgba(161, 148, 255, 0.4) 30%,
        #f5a5ff 50%,
        rgba(161, 148, 255, 0.4) 70%,
        rgba(161, 148, 255, 0) 100%
    );
    --glow-linear-yellow: linear-gradient(
        270deg,
        rgba(255, 199, 101, 0) 0%,
        rgba(255, 199, 101, 0.46) 30%,
        #ffa069 50%,
        rgba(255, 199, 101, 0.4) 70%,
        rgba(255, 199, 101, 0) 100%
    );
}

/* Apply default white conic gradient */
.o-glow-effect::after {
    --glow-conic-gradient: var(--glow-conic-white);
    background: var(--glow-conic-gradient);
    transition:
        opacity 300ms ease,
        background 200ms ease;
}

/* Green theme variant */
[data-glow-theme="green"] .o-glow-effect::after {
    --glow-conic-gradient: var(--glow-conic-green);
}

/* Blue theme variant */
[data-glow-theme="blue"] .o-glow-effect::after {
    --glow-conic-gradient: var(--glow-conic-blue);
}

/* Purple theme variant */
[data-glow-theme="purple"] .o-glow-effect::after {
    --glow-conic-gradient: var(--glow-conic-purple);
}

/* Yellow theme variant */
[data-glow-theme="yellow"] .o-glow-effect::after {
    --glow-conic-gradient: var(--glow-conic-yellow);
}

/* Glow Line Effect - Simple linear gradient line */
.o-glow-line {
    width: 100%;
    height: 4px;
    margin-right: auto;
    margin-left: auto;
    align-self: center;
    --glow-line-color: var(--glow-linear-green);
    background-image: var(--glow-line-color);
}

/* Motion glow variants - linear gradients */
[data-motion-glow="green"] .o-glow-line {
    --glow-line-color: var(--glow-linear-green);
}

[data-motion-glow="blue"] .o-glow-line {
    --glow-line-color: var(--glow-linear-blue);
}

[data-motion-glow="purple"] .o-glow-line {
    --glow-line-color: var(--glow-linear-purple);
}

[data-motion-glow="yellow"] .o-glow-line {
    --glow-line-color: var(--glow-linear-yellow);
}
