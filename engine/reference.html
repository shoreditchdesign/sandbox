<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/gsap.min.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        document.querySelectorAll(".toast_wrap").forEach(function (component) {
            const items = component.querySelectorAll(".toast_item");
            const duration = 0.5;
            const delay = 0.8;
            const dd = duration + delay;
            const cardsPerView = 3;
            let activeIndex = -1;
            let zIndex = 99999;

            const tl = gsap.timeline({
                defaults: { duration: duration, ease: "power1.inOut" },
            });

            for (let i = 0; i < items.length + cardsPerView; i++) {
                activeIndex++;
                if (activeIndex === items.length) activeIndex = 0;
                const item = items[activeIndex];
                zIndex--;
                tl.set(
                    item,
                    {
                        scale: 1,
                        yPercent: 0,
                        "--background-opacity": 0.2,
                        opacity: 1,
                        filter: "blur(0rem)",
                        delay: 0,
                        zIndex: zIndex,
                    },
                    i * dd,
                );
                tl.to(
                    item,
                    { scale: 1.1, yPercent: -30, "--background-opacity": 0.1 },
                    "<" + dd,
                );
                tl.to(
                    item,
                    { scale: 1.2, yPercent: -60, "--background-opacity": 0 },
                    "<" + dd,
                );
                tl.to(
                    item,
                    {
                        scale: 1.3,
                        yPercent: -90,
                        opacity: 0,
                        filter: "blur(0.5rem)",
                    },
                    "<" + dd,
                );
            }

            const mainTl = gsap.timeline({
                repeat: -1,
                onUpdate: () => {
                    const offset = dd * cardsPerView;
                    if (
                        tl.time() < offset - delay ||
                        tl.time() > tl.duration() - offset
                    ) {
                        tl.time(offset - delay);
                    }
                },
            });
            mainTl.to(tl, { duration: tl.duration(), ease: "none" });
        });
    });
</script>

<html
    data-wf-domain="stacking-cards-741619.webflow.io"
    data-wf-page="68de836b4c6075f20cf21c2e"
    data-wf-site="68de83694c6075f20cf21a7f"
    lang="en"
    class="w-mod-js"
>
    <head>
        <style>
            .wf-force-outline-none[tabindex="-1"]:focus {
                outline: none;
            }
        </style>
        <meta charset="utf-8" />
        <title>Stacking cards</title>
        <meta content="width=device-width, initial-scale=1" name="viewport" />
        <meta content="Webflow" name="generator" />
        <link
            href="https://cdn.prod.website-files.com/68de83694c6075f20cf21a7f/css/stacking-cards-741619.webflow.shared.c44560a2d.css"
            rel="stylesheet"
            type="text/css"
        />
        <script type="text/javascript">
            !(function (o, c) {
                var n = c.documentElement,
                    t = " w-mod-";
                ((n.className += t + "js"),
                    ("ontouchstart" in o ||
                        (o.DocumentTouch && c instanceof DocumentTouch)) &&
                        (n.className += t + "touch"));
            })(window, document);
        </script>
        <link
            href="https://cdn.prod.website-files.com/img/favicon.ico"
            rel="shortcut icon"
            type="image/x-icon"
        />
        <link
            href="https://cdn.prod.website-files.com/img/webclip.png"
            rel="apple-touch-icon"
        />
    </head>
    <body>
        <section>
            <div class="u-container">
                <div class="toast_wrap w-dyn-list">
                    <div role="list" class="toast_list w-dyn-items">
                        <div
                            role="listitem"
                            class="toast_item w-dyn-item"
                            style="
                                translate: none;
                                rotate: none;
                                scale: none;
                                z-index: 99998;
                                filter: blur(0rem);
                                opacity: 1;
                                --background-opacity: 0;
                                transform: translate(0%, -60%) scale(1.2, 1.2);
                            "
                        >
                            <div class="toast_background"></div>
                            <img
                                src="https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c49_Frame%20194.jpg"
                                loading="lazy"
                                alt=""
                                sizes="100vw"
                                srcset="
                                    https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c49_Frame%2520194-p-500.jpg  500w,
                                    https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c49_Frame%2520194-p-800.jpg  800w,
                                    https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c49_Frame%20194.jpg         1000w
                                "
                                class="toast_img"
                            />
                            <h6 class="toast_name">Cameron Blake</h6>
                            <div class="toast_number">01</div>
                        </div>
                        <div
                            role="listitem"
                            class="toast_item w-dyn-item"
                            style="
                                translate: none;
                                rotate: none;
                                scale: none;
                                z-index: 99997;
                                filter: blur(0rem);
                                opacity: 1;
                                --background-opacity: 0.1;
                                transform: translate(0%, -30%) scale(1.1, 1.1);
                            "
                        >
                            <div class="toast_background"></div>
                            <img
                                src="https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c48_Frame%20195.jpg"
                                loading="lazy"
                                alt=""
                                sizes="100vw"
                                srcset="
                                    https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c48_Frame%2520195-p-500.jpg  500w,
                                    https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c48_Frame%2520195-p-800.jpg  800w,
                                    https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c48_Frame%20195.jpg         1000w
                                "
                                class="toast_img"
                            />
                            <h6 class="toast_name">Avery Quinn</h6>
                            <div class="toast_number">02</div>
                        </div>
                        <div
                            role="listitem"
                            class="toast_item w-dyn-item"
                            style="
                                translate: none;
                                rotate: none;
                                scale: none;
                                z-index: 99996;
                                filter: blur(0rem);
                                opacity: 1;
                                --background-opacity: 0.2;
                                transform: translate(0px, 0px);
                            "
                        >
                            <div class="toast_background"></div>
                            <img
                                src="https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c47_Frame%20197.jpg"
                                loading="lazy"
                                alt=""
                                sizes="100vw"
                                srcset="
                                    https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c47_Frame%2520197-p-500.jpg  500w,
                                    https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c47_Frame%2520197-p-800.jpg  800w,
                                    https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c47_Frame%20197.jpg         1000w
                                "
                                class="toast_img"
                            />
                            <h6 class="toast_name">Alex Carter</h6>
                            <div class="toast_number">03</div>
                        </div>
                        <div
                            role="listitem"
                            class="toast_item w-dyn-item"
                            style="
                                translate: none;
                                rotate: none;
                                scale: none;
                                z-index: auto;
                                filter: none;
                                opacity: 1;
                                --background-opacity: 0;
                                transform: translate(0px, 0px);
                            "
                        >
                            <div class="toast_background"></div>
                            <img
                                src="https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c46_Frame%20198.jpg"
                                loading="lazy"
                                alt=""
                                sizes="100vw"
                                srcset="
                                    https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c46_Frame%2520198-p-500.jpg  500w,
                                    https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c46_Frame%2520198-p-800.jpg  800w,
                                    https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c46_Frame%20198.jpg         1000w
                                "
                                class="toast_img"
                            />
                            <h6 class="toast_name">Jordan Casey</h6>
                            <div class="toast_number">04</div>
                        </div>
                        <div
                            role="listitem"
                            class="toast_item w-dyn-item"
                            style="
                                translate: none;
                                rotate: none;
                                scale: none;
                                z-index: auto;
                                filter: none;
                                opacity: 1;
                                --background-opacity: 0;
                                transform: translate(0px, 0px);
                            "
                        >
                            <div class="toast_background"></div>
                            <img
                                src="https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c45_Frame%20199.jpg"
                                loading="lazy"
                                alt=""
                                sizes="100vw"
                                srcset="
                                    https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c45_Frame%2520199-p-500.jpg  500w,
                                    https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c45_Frame%2520199-p-800.jpg  800w,
                                    https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c45_Frame%20199.jpg         1000w
                                "
                                class="toast_img"
                            />
                            <h6 class="toast_name">Riley Harper</h6>
                            <div class="toast_number">05</div>
                        </div>
                        <div
                            role="listitem"
                            class="toast_item w-dyn-item"
                            style="
                                translate: none;
                                rotate: none;
                                scale: none;
                                z-index: auto;
                                filter: none;
                                opacity: 1;
                                --background-opacity: 0;
                                transform: translate(0px, 0px);
                            "
                        >
                            <div class="toast_background"></div>
                            <img
                                src="https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c44_Frame%20200.jpg"
                                loading="lazy"
                                alt=""
                                sizes="100vw"
                                srcset="
                                    https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c44_Frame%2520200-p-500.jpg  500w,
                                    https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c44_Frame%2520200-p-800.jpg  800w,
                                    https://cdn.prod.website-files.com/68de836b4c6075f20cf21c41/68de836b4c6075f20cf21c44_Frame%20200.jpg         1000w
                                "
                                class="toast_img"
                            />
                            <h6 class="toast_name">Taylor Morgan</h6>
                            <div class="toast_number">06</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <script
            src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=68de83694c6075f20cf21a7f"
            type="text/javascript"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
            crossorigin="anonymous"
        ></script>
        <script
            src="https://cdn.prod.website-files.com/68de83694c6075f20cf21a7f/js/webflow.751e0867.7204fca6be7878de.js"
            type="text/javascript"
        ></script>
        <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/gsap.min.js"></script>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                document
                    .querySelectorAll(".toast_wrap")
                    .forEach(function (component) {
                        const items = component.querySelectorAll(".toast_item");
                        const duration = 0.5;
                        const delay = 0.8;
                        const dd = duration + delay;
                        const cardsPerView = 3;
                        let activeIndex = -1;
                        let zIndex = 99999;

                        const tl = gsap.timeline({
                            defaults: {
                                duration: duration,
                                ease: "power1.inOut",
                            },
                        });

                        for (let i = 0; i < items.length + cardsPerView; i++) {
                            activeIndex++;
                            if (activeIndex === items.length) activeIndex = 0;
                            const item = items[activeIndex];
                            zIndex--;
                            tl.set(
                                item,
                                {
                                    scale: 1,
                                    yPercent: 0,
                                    "--background-opacity": 0.2,
                                    opacity: 1,
                                    filter: "blur(0rem)",
                                    delay: 0,
                                    zIndex: zIndex,
                                },
                                i * dd,
                            );
                            tl.to(
                                item,
                                {
                                    scale: 1.1,
                                    yPercent: -30,
                                    "--background-opacity": 0.1,
                                },
                                "<" + dd,
                            );
                            tl.to(
                                item,
                                {
                                    scale: 1.2,
                                    yPercent: -60,
                                    "--background-opacity": 0,
                                },
                                "<" + dd,
                            );
                            tl.to(
                                item,
                                {
                                    scale: 1.3,
                                    yPercent: -90,
                                    opacity: 0,
                                    filter: "blur(0.5rem)",
                                },
                                "<" + dd,
                            );
                        }

                        const mainTl = gsap.timeline({
                            repeat: -1,
                            onUpdate: () => {
                                const offset = dd * cardsPerView;
                                if (
                                    tl.time() < offset - delay ||
                                    tl.time() > tl.duration() - offset
                                ) {
                                    tl.time(offset - delay);
                                }
                            },
                        });
                        mainTl.to(tl, {
                            duration: tl.duration(),
                            ease: "none",
                        });
                    });
            });
        </script>
    </body>
</html>
